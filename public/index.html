<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="A simple youtube video downloader app" />
		<title>YTPWA</title>
		<link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" href="css/normalize.css" />
		<link rel="stylesheet" href="css/skeleton.css" />
		<link rel="stylesheet" href="css/style.css" />
		<link rel="manifest" href="./manifest.json" />
	</head>
	<body style="padding: 50px">
		<div>
			<h1>Descarga videos de youtube</h1>
			<h2 class="status">Ingresa el link debajo...</h2>
			<input type="text" class="link-download--js" />

			<div class="row container center">
				<button class="six columns" onclick="download('video')">Descargar Video</button>
				<button class="six columns" onclick="download('mp3')">Descargar MP3</button>
			</div>
		</div>
		<script>
			const download = (type) => {
				const youtubeLink = document.querySelector(".link-download--js").value;
				const status = document.querySelector(".status");
				const downloadLink =
					type === "video"
						? `/download?link=${youtubeLink}&type=mp4`
						: `/download?link=${youtubeLink}&type=mp3`;
				window.open(downloadLink, "Download", "width=200,height=200");
			};
			// CODELAB: Register service worker.
			if ("serviceWorker" in navigator) {
				window.addEventListener("load", () => {
					navigator.serviceWorker.register("./service-worker.js").then((reg) => {
						console.log("Service worker registered.", reg);
					});
				});
			}
		</script>
	</body>
</html>
